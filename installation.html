
<html lang="en">
<head>
    
    <title>Fierro</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.png">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Tooplate">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body data-spy="scroll" data-target="#toc">
    <div id="header"></div>
    <div class="container installation">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-3">
                <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
            </div>
            <!-- main content area -->
            <div class="col-sm-9 text-content">
                <h1>Installation</h1>
                <p><em>Fierro</em> backend is designed to run on almost all hardware that you might want to use for a simulation. We support three CPU architectures (x86_64, arm64, ppc64le), 
                    as well as CUDA GPUs through nvcc and AMD GPUs through HIP. Additionally, we support both Linux and MacOS. To run <em>Fierro</em> on Windows please use
                    <a href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux (WSL)</a>.
                </p>
                <p>
                    To make the installation process as simple as possible, we offer several pre-compiled binaries through <a href="https://www.anaconda.com/">Anaconda</a>
                    for the backend software. The builds for <em>Fierro</em>, as well as its primary dependencies, can be found <a href="https://anaconda.org/fierromechanics">here</a> for all supported platforms.
                    Anaconda will automatically select the right build for your OS and CPU architecture, however, you must select the correct build based on which GPU hardware is present.  
                    This can be seen in the package prefix (-cpu, -cuda, -hip). At this time, <u>the Anaconda <em>Fierro</em> executables for the Windows OS are restricted to running inside WSL-2</u>.
                </p>
                <p>
                    To use Anaconda, follow the steps for your platform to install 
                    <a href="https://docs.anaconda.com/free/anaconda/install/index.html">Anaconda</a> /
                    <a href="https://docs.conda.io/en/latest/miniconda.html">miniconda</a> /
                    <a href="https://mamba.readthedocs.io/en/latest/installation.html">mamba</a>.
                    
                    Next, open a terminal on your machine and go to a folder where you want to run the <em>Fierro</em> code.  Then create and activate an Anaconda environment by typing:  
                    <pre><code> conda create -n FierroCode </code></pre>
                    <pre><code> conda activate FierroCode </code></pre>
                    
                    In this example, the enviroment is called FierroCode, but any name can be used.  In some cases, the text to activate an enviroment is <code>source activate FierroCode</code>.  
                    Likewise, if an enviroment already exists, then just activate the desired environment.  

                    To install the finite element physics solvers in <em>Fierro</em>, please type, while within the activated Anaconda environment:
                    
                    <pre><code> conda install -c conda-forge -c fierromechanics fierro-cpu </code></pre>

                    The EVPFFT physics solver in  <em>Fierro</em> can be installed by typing:

                    <pre><code> conda install -c conda-forge -c fierromechanics evpfft </code></pre>

                    A GUI is offered, it can be installed by typing:    

                    <pre><code> conda install -c conda-forge -c fierromechanics fierro_gui </code></pre>

                    After installing the finite element solvers, it gives you access to <code>fierro-mesh-builder</code>, <code>fierro-parallel-explicit</code>, <code>fierro-parallel-implicit</code>, and the <code>fierro-voxelizer</code> executables. These can be run by calling the appropriate executable with the desired input. For example, to call the parallel explicit hydrodynamics solver, use the following command:
                    
                    <pre><code> fierro-parallel-explicit input.yaml </code></pre>

                    A sample input file for the explicit finite element solver is here:
                    <pre><code>./src/Parallel-Solvers/Parallel-Explicit/example_simple.yaml</code></pre>

                    The GUI can be run in the anaconda enviroment by typing:
                    <pre><code>fierro-gui </code></pre>



                </p>

                <h2>Supported Systems</h2>
                <p>
                    Officially, the <em>Fierro</em> back-end solvers are tested for the following systems:
                </p>
                <table class="table">
                    <thead>
                        <tr>
                            <th colspan="1"></th>
                            <th colspan="4">Instruction Set</th>
                            <th colspan="2">GPU</th>
                        </tr>
                        <tr>
                            <th>OS</th>
                            <th>x86_64</th>
                            <th>ppc64</th>
                            <th>aarch64</th>
                            <th>Apple Silicon</th>
                            <th>NVIDIA</th>
                            <th>AMD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Linux</td>
                            <td class="supported"></td>
                            <td class="supported"></td>
                            <td class="supported"></td>
                            <td class="not-supported"></td>
                            <td class="supported"></td>
                            <td class="supported"></td>
                        </tr>
                        <tr>
                            <td>MacOS</td>
                            <td class="supported"></td>
                            <td class="not-supported"></td>
                            <td class="not-supported"></td>
                            <td class="supported"></td>
                            <td class="not-supported"></td>
                            <td class="supported"></td>
                        </tr>
                        <tr>
                            <td>Windows-64*</td>
                            <td class="semi-supported"></td>
                            <td class="not-supported"></td>
                            <td class="not-supported"></td>
                            <td class="not-supported"></td>
                            <td class="semi-supported"></td>
                            <td class="semi-supported"></td>
                        </tr>
                    </tbody>
                </table>

                <p style="text-align:right;">
                    *<em>Windows builds are supported through WSL-2</em>
                    <br/>
                    *<em>AMD Builds through HIP are supported for x86_64 CPU architectures only</em>
                </p>

                <h2>Graphical User Interfaces</h2>
                <p>
                    The <em>Fierro</em> GUI applications run on Python and areis available for all systems that the <em>Feirro</em> back-end can run on. They can either be installed from the Anaconda distributions, or built from source.
                </p>
                <h5><a id="fierro-gui-anchor">FIERRO-GUI</a></h5>
                <p>
                    Our standalone FIERRO-GUI software can be installed with:
                </p>
                <pre><code>conda install -c conda-forge -c fierromechanics fierro_gui</code></pre>
                <p>
                    This will give you access to both the <code>evpfft</code> and <code>fierro-gui</code> commands to launch the comamnd line EVPFFT backend or the associated graphical user interface, respectively.
                </p>
                <p>
                    Additionally, FIERRO-GUI can be built from source by navigating to <code>Fierro/python/FIERRO-GUI</code> and running <code>pip install .</code> or <code>python setup.py install</code>. This application depends on:
                    <li>EVPFFT</li>
                    <li>Voxelizer</li>
                </p>

                <h2>Backend Applications</h2>
                <p>
                    To drive the different simulation software in <em>Fierro</em>, we have several backend applications. In general, the collection of backend applications provides a superset of the graphical user interface functionality and it may be necessary to use these applications directly depending on your workflows.
                </p>
                <h5><a id="evpfft-anchor">EVPFFT</a></h5>
                <p>
                    The elasto-viscoplastic fast fourier transform program simulates the response of polycrystalline microstructures under multiple types of load. It is available from the <code>fierro-evpfft</code> and <code>fierro-evpfft-cuda</code> Anaconda packages. Installing these directly will pull in all necessary dependencies and give you access to the software through the <code>evpfft</code> command. Example input files for this application can be found under <code>Fierro/src/EVPFFT/example_input_files</code>.
                </p>
                <p>
                    If you wish to build this application from source, there is a comprehensive build script available to configure the environment and build all of the necessary dependencies. To invoke the script, run:
<pre><code>git clone https://github.com/lanl/Fierro.git --recurse-submodules
cd src/EVPFFT/scripts/build-scripts
source build-evpfft.sh
</code></pre>
                </p>
                <h5>Implicit Solver</h5>
                <p>
                    The implicit solver for solving static equations can be acquired through the <code>fierro-cpu</code>, <code>fierro-cuda</code> (coming soon), and <code>fierro-hip</code> (coming soon) Anaconda packages. Installing these directly will pull in all necessary dependencies and give you access to the software through the <code>fierro</code> command. Example input files for this application can be found under <code>Fierro/src/Parallel-Solvers/Implicit-Lagrange/example_*.yaml</code>.
                </p>
                <p>
                    If you wish to build this application from source, there is a comprehensive build script available to configure the environment and build all of the necessary dependencies. To invoke the script, run:
<pre><code>git clone https://github.com/lanl/Fierro.git --recurse-submodules
cd scripts/implicit
source build-fierro.sh
</code></pre>
                <p>Which will provide you with instructions on how to select which hardware you would like to compile <em>Fierro</em> for.</p>
                </p>
                <h5>Explicit Solver</h5>
                <p>
                    The explicit solver for simulating dynamic time evolution can be acquired through the <code>fierro-cpu</code>, <code>fierro-cuda</code> (coming soon), and <code>fierro-hip</code> (coming soon) Anaconda packages. Installing these directly will pull in all necessary dependencies and give you access to the software through the <code>fierro</code> command. Example input files for this application can be found under <code>Fierro/src/Parallel-Solvers/Parallel-Explicit/example_*.yaml</code>.
                </p>
                <p>
                    If you wish to build this application from source, there is a comprehensive build script available to configure the environment and build all of the necessary dependencies. To invoke the script, run:
                </p>
<pre><code>git clone https://github.com/lanl/Fierro.git --recurse-submodules
cd scripts/explicit
source build-fierro.sh
</code></pre>
                <p>Which will provide you with instructions on how to select which hardware you would like to compile <em>Fierro</em> for.</p>
                <h2>Tools</h2>
                <p>
                    In addition to the end to end tooling provided in the main backend application, some miscellaneous tools are available should you want to use them directly for your applications. While these tools do not depend on <a href="https://github.com/trilinos/Trilinos">Trilinos</a>, like some of the solvers, they do depend on <a href="https://github.com/lanl/ELEMENTS">Elements</a>. So to build them from source, ensure that the Elements submodule under <code>Fierro/lib</code> is checked out recursively.
                </p>
<pre><code>mkdir build
cd build
cmake .. -DBUILD_PARALLEL_EXPLICIT_SOLVER=OFF -DBUILD_IMPLICIT_SOLVER=OFF
make
</code></pre>
                </p>
                <h5>Mesh Generator</h5>
                <p>
                    If you want to run a test problem, or just generate a simple mesh, our mesh generator can help. It accepts desired mesh configuration via a Yaml input file and can generate both low order and high order mesh structures in either a cylindrical or rectangular configuration at your desired resolutions. 
                </p>
            </div>
        </div>
    </div>

    <div id="footer"></div>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>
    <script> 
        $(function(){
          $("#header").load("header.html", () => $("#nav-installation").addClass("active")); 
          $("#footer").load("footer.html"); 
        });
    </script> 

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap-toc.min.js"></script>
</body>
</html>
