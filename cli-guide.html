<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fierro</title>
    <!-- <link rel="icon" type="image/x-icon" href="assets/images/favicon.png"> -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Tooplate">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body data-spy="scroll" data-target="#toc">
    <div id="header"></div>

    <div class="container">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-3">
                <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
            </div>

            <!-- main content area -->
            <div class="col-sm-9 text-content">
                <h1>Command Line Interface Guide</h1>
                The <em>Fierro</em> CLI gives you direct access to the back-end functions without a GUI. This can be useful for making and running advanced configurations
                as well as for use on remote computing clusters.
                
                <h2>Entry Points</h2>
                <p>
                    The <em>Fierro</em> command line interface offers a single interface into all of the <em>Fierro</em> backend tools. The current options available on your
                    machine can be explored by running
                </p>
                <pre><code>fierro -h</code></pre>
                <p>
                    This will list as subcommands all of the available backend applications.
                </p>

                <h3>Parallel Solvers</h3>
                <p>
                    Both the parallel implicit solver and parallel explicit integrator take similar arguments in the form of a Yaml configuration file. 
                    The specific syntax for invoking them can be shown by running the following commands:
                </p>
<pre><code>fierro parallel-explicit -h
fierro parallel-implicit -h</code></pre>
                <p>
                    The primary argument that each backend accepts is a Yaml configuration file. While each program takes somewhat different configuration
                    options, they share much of their configuration. 
                </p>
                <h3>How to read the following tables</h3>
                All of the <em>Fierro</em> backends take Yaml inputs. These may have required arguments, type annotations, 
                nested input structures, and inherited structure. The following tables denote the expected input structure, 
                calling out these properties. The Yaml eamples on the right are each valid inputs for the specification (Example) on the left.
                
                <div class="row">
                    <div class="col-md-6">
                        <table class="table field-description">
                            <thread>
                                <tr>
                                    <th colspan="2"><h4>Example(<a href="#examplebase-anchor">ExampleBase</a>)</h4></th>
                                </tr>
                            </thread>
                            <tbody>
                                <tr>
                                    <td>options: List[<a href="#substructure-anchor">SubStructure</a>]</td>
                                    <td>options description</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table field-description">
                            <thread>
                                <tr>
                                    <th colspan="2"><a id="examplebase-anchor"><h4>ExampleBase</h4></a></th>
                                </tr>
                            </thread>
                            <tbody>
                                <tr>
                                    <td>*A: float</td>
                                    <td>A Description</td>
                                </tr>
                                <tr>
                                    <td>*B: string</td>
                                    <td>B Description</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table field-description">
                            <thread>
                                <tr>
                                    <a id="substructure-anchor"><th colspan="2"><h4>SubStructure</h4></th></a>
                                </tr>
                            </thread>
                            <tbody>
                                <tr>
                                    <td>SA: int</td>
                                    <td>SA Description</td>
                                </tr>
                                <tr>
                                    <td>SB: int</td>
                                    <td>SB Description</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6">
<pre><code>A: 1.025
B: some-string
options:
  - SA: 1
    SB: 2
  - SA: 4
    SB: -10
</code></pre>
<br>
<pre><code class="language-yaml"># While other fields can be omitted,
# A and B are required.
A: 1.025
B: some-string
</code></pre>
                    </div>
                </div>
                <p>
                    If a specification has another next to it listed (in parantheses), that means the fields are inherited from that
                    specification. If a field is listed with an "*" next to it, that means it is required. If the type of a field 
                    links to another specification, then the value of the field should be a nested structure described by that
                    specification.
                </p>

                <h3>Shared Configuration</h3>
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="simulation-parameters-anchor"><th colspan="2"><h4>Simulation Parameters</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>solver_type</td>
                            <td>Type of solver used {SGH}</td>
                        </tr>
                        <tr>
                            <td>num_dims</td>
                            <td>Dimensionality of Problem {2, 3}</td>
                        </tr>
                        <tr>
                            <td>fea_modules: List[<a href="#fea-module-anchor">FEA Module</a>]</td>
                            <td>List of modules to load and use during evolution/optimization</td>
                        </tr>
                        <tr>
                            <td>input_options: <a href="#input-options-anchor">Input Options</a></td>
                            <td>Options controlling input meshes/models</td>
                        </tr>
                        <tr>
                            <td>output_options: <a href="#output-options-anchor">Output Options</a></td>
                            <td>Options controlling solver output</td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="fea-module-anchor"><th colspan="2"><h4>FEA Module</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>fea_module_type</td>
                            <td>Type of moduel {Elasticity, Heat_Conduction, SGH, Inertial, Thermo_Elasticity, Eulerian}</td>
                        </tr>
                        <tr>
                            <td>boundary_conditions: List[<a href="#fea-boundary-anchor">FEA Boundary Condition</a>]</td>
                            <td>Boundary conditions enforced during evolution</td>
                        </tr>
                        <tr>
                            <td>loading_conditions: List[<a href="#fea-loading-anchor">FEA Loading Condition</a>]</td>
                            <td>External factors to apply</td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="fea-boundary-anchor"><th colspan="2"><h4>FEA Boundary Condition</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>id: string</td>
                            <td>Unique condition id</td>
                        </tr>
                        <tr>
                            <td>surface</td>
                            <td>Type of surface {x_plane, y_plane, z_plane, cylinder, sphere, readFile}</td>
                        </tr>
                        <tr>
                            <td>condition_type</td>
                            <td>The type of constraint {fixed_displacement, fixed_temperature}</td>
                        </tr>
                        <tr>
                            <td>value: float</td>
                            <td>The value to enforce along the boundary</td>
                        </tr>
                        <tr>
                            <td>displacement_value: float</td>
                            <td>The displacement to enforce along the boundary</td>
                        </tr>
                        <tr>
                            <td>temperature_value: float</td>
                            <td>The temperature to enforce along the boundary</td>
                        </tr>
                        <tr>
                            <td>plane_position: float</td>
                            <td>The position of the plane along its axis</td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="fea-loading-anchor"><th colspan="2"><h4>FEA Loading Condition</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>id: string</td>
                            <td>Unique condition id</td>
                        </tr>
                        <tr>
                            <td>surface</td>
                            <td>Type of surface {x_plane, y_plane, z_plane, cylinder, sphere, readFile}</td>
                        </tr>
                        <tr>
                            <td>condition_type</td>
                            <td>The type of constraint {surface_traction, surface_heat_flux}</td>
                        </tr>
                        <tr>
                            <td>flux_value: float</td>
                            <td>The flux to enforce along the boundary</td>
                        </tr>
                        <tr>
                            <td>specification</td>
                            <td>The directionality of the traction {normal, coordinated}</td>
                        </tr>
                        <tr>
                            <td>component_x: float</td>
                            <td>The x component of the loading force</td>
                        </tr>
                        <tr>
                            <td>component_y: float</td>
                            <td>The y component of the loading force</td>
                        </tr>
                        <tr>
                            <td>component_z: float</td>
                            <td>The z component of the loading force</td>
                        </tr>
                        <tr>
                            <td>plane_position: float</td>
                            <td>The position of the plane along its axis</td>
                        </tr>
                    </tbody>
                </table>

                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="input-options-anchor"><th colspan="2"><h4>Input Options</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>mesh_file_name: string</td>
                            <td>Filepath to the mesh to load</td>
                        </tr>
                        <tr>
                            <td>mesh_file_format</td>
                            <td>Format of the mesh file {ensight, tecplot, vtk, ansys_dat}</td>
                        </tr>
                        <tr>
                            <td>element_type</td>
                            <td>The type of elements contained in the mesh file {quad4, quad8, quad12, hex8, hex20, hex32}</td>
                        </tr>
                        <tr>
                            <td>zero_index_base: bool</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="output-options-anchor"><th colspan="2"><h4>Output Options</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>graphics_step_frequency: int</td>
                            <td>Output current mesh every "graphics_step_frequency" optimization steps.</td>
                        </tr>
                        <tr>
                            <td>graphics_step</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>output_format</td>
                            <td>Mesh output format {vtk}</td>
                        </tr>
                    </tbody>
                </table>


                <h3>Parallel Explicit SGH</h3>
                <p>
                    The parallel explicit solver performs dynamic time integration to evolve the system from an initial state.
                    
                    When invoking the explicit dynamics solver, you should provide it with a single Yaml file containing fields from both the
                    <a href="#sgh-parameters">SGH Parameters</a> spec as well as the <a href="#simulation-parameters-anchor">Simulation Parameters</a> spec.
                </p>
  
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="sgh-parameters-anchor"><th colspan="2"><h4>SGH Parameters</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>time_variables</td>
                            <td><a href="#time-variables-anchor">Time Variables</a></td>
                        </tr>
                        <tr>
                            <td>region_options: List[<a href="#region-options-anchor">Region Options</a>]</td>
                            <td>Properties of different spatial regions</td>
                        </tr>
                        <tr>
                            <td>material_options: List[<a href="#material-options-anchor">Material Options</a>]</td>
                            <td>Properties of each material</td>
                        </tr>
                        <tr>
                            <td>boundary_conditions: List[<a href="#boundary-condition-anchor">Boundary Conditions</a>]</td>
                            <td>Global boundary conditions to enforce during evolution</td>
                        </tr>
                        <tr>
                            <td>graphics_options: <a href="#graphics_options-anchor">Graphics Options</a></td>
                            <td>Options controlling what is output at each timestep</td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="time-variables-anchor"><th colspan="2"><h4>Time Variables</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>time_final: float</td>
                            <td>End time of the simulation</td>
                        </tr>
                        <tr>
                            <td>dt_min: float</td>
                            <td>Smallest allowed step size</td>
                        </tr>
                        <tr>
                            <td>dt_max: float</td>
                            <td>Largest allowed step size</td>
                        </tr>
                        <tr>
                            <td>dt_start: float</td>
                            <td>Initial step size</td>
                        </tr>
                        <tr>
                            <td>dt_cfl: float</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>cycle_stop: int</td>
                            <td>Maximum number of cycles</td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="region-options-anchor"><th colspan="2"><h4>Region Options</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>mat_id: string</td>
                            <td>Unique material ID</td>
                        </tr>
                        <tr>
                            <td>volume</td>
                            <td>Geometry type {global, box, cylinder, sphere}</td>
                        </tr>
                        <tr>
                            <td>velocity</td>
                            <td>Type of velocity {cartesian, radial, spherical, radial_linear, spherical_linear, tg_vortex}</td>
                        </tr>
                        <tr>
                            <td>radius1: float</td>
                            <td>Inner radius for shells</td>
                        </tr>
                        <tr>
                            <td>radius2: float</td>
                            <td>Outer radiues for shells</td>
                        </tr>
                        <tr>
                            <td>u, v, w : float</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>speed: float</td>
                            <td>Expansion speed</td>
                        </tr>
                        <tr>
                            <td>sie: float</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>den: float</td>
                            <td>Density</td>
                        </tr>
                    </tbody>
                </table>

                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="material-options-anchor"><th colspan="2"><h4>Material Options</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>eos_model_type</td>
                            <td>Equation of state model type {ideal_gas, user_eos_model}</td>
                        </tr>
                        <tr>
                            <td>strength_type</td>
                            <td>{none, hypo, hyper}</td>
                        </tr>
                        <tr>
                            <td>strength_setup</td>
                            <td>{input, user_input}</td>
                        </tr>
                        <tr>
                            <td>strength_run_location</td>
                            <td>Whether to run on the host or the device {host, device}</td>
                        </tr>
                        <tr>
                            <td>q1, q1ex : float</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>q2, q2ex : float</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="boundary-condition-anchor"><th colspan="2"><h4>Boundary Condition</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>id: string</td>
                            <td>Unique condition identifier</td>
                        </tr>
                        <tr>
                            <td>condition_type</td>
                            <td>Type of boundary condition {fixed, reflected, velocity, pressure, acceleration, contact}</td>
                        </tr>
                        <tr>
                            <td>surface</td>
                            <td>Boundary surface type {x_plane, y_plane, z_plane, cylinder, sphere, readFile}</td>
                        </tr>
                        <tr>
                            <td>value: float</td>
                            <td>Constant value to maintain at the boundary</td>
                        </tr>
                        <tr>
                            <td>u, v, w : float</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>

                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="graphics-options-anchor"><th colspan="2"><h4>Graphics Options</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>output_velocity_flag, output_strain_flag, output_stress_flag : bool</td>
                            <td>Boolean options for enabling output of velocity, strain, and stress.</td>
                        </tr>
                        <tr>
                            <td>displaced_mesh_flag: bool</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>strain_max_flag: bool</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Parallel Implicit Solver</h3>
                <p>
                    The parallel implicit solver optimizes density, shape and/or topology of the mesh to minimize the
                    optimization objective function while maintaining the optimization constraints.
                    
                    When invoking the implicit solver, you should provide it with a single Yaml file containing fields from both the
                    <a href="#topology-optimization-anchor">Topology Optimization Parameters</a> spec 
                    as well as the <a href="#simulation-parameters-anchor">Simulation Parameters</a> spec.
                </p>
                
                <table class="table field-description">
                    <thead>
                        <tr>
                            <a id="topology-optimization-anchor"><th colspan="2"><h4>Topology Optimization Parameters</h4></th></a>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>output_velocity_flag, output_strain_flag, output_stress_flag</td>
                            <td>Boolean options for enabling output of velocity, strain, and stress.</td>
                        </tr>
                        <tr>
                            <td>displaced_mesh_flag</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>strain_max_flag</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="footer"></div>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>
    <script> 
        $(function(){
          $("#header").load("header.html", () => $("#nav-user-guides").addClass("active")); 
          $("#footer").load("footer.html"); 
        });
    </script> 

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap-toc.min.js"></script>
</body>
</html>