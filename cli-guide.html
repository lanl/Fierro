<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fierro</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.png">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Tooplate">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body data-spy="scroll" data-target="#toc">
    <div id="header"></div>

    <div class="container">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-3">
                <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
            </div>

            <!-- main content area -->
            <div class="col-sm-9 text-content">
                <h1>Command Line Interface Guide</h1>
                The <em>Fierro</em> command line interface (CLI) gives you direct access to the back-end functions without a GUI. This can be useful for making and running advanced configurations as well as for use on remote computing clusters without display capabilities.
                
                <h2>Entry Points</h2>
                <p>
                    The <em>Fierro</em> command line interface offers a single interface into all of the <em>Fierro</em> backend tools. The current options available on your
                    machine can be explored by running
                </p>
                <pre><code>fierro -h</code></pre>
                <p>
                    This will list as subcommands all of the available backend applications as well as some useful tools integrated into <em>Fierro</em> that can be run as standalone executables as well.
                </p>

                <h3>Physics Solvers</h3>
                <p>
                    Both the implicit static solver, and the explicit dynamics simulator take similar arguments in the form of a a Yaml configuration file.
                    The specific syntax for invoking them can be shown by running the following commands:
                </p>
<pre><code>fierro parallel-explicit -h
fierro parallel-implicit -h</code></pre>
                <p>
                    The primary argument that each backend accepts is a Yaml configuration file. The following chart demonstrates the relationship 
                    and accepted values for the input file. 
                </p>
                <img class="uml-diagram" src="assets/images/Fierro UML.jpg"/>
                <h3>Example Input</h3>
                <p>
                    The following is an example Yaml input file that corresponds to the <b>Simulation Parameters</b> spec. 
                    Note that most common configuration errors are caught by <em>Fierro</em> and you should pay attention to the feedback
                    provided if your Yaml file is not accepted.
                </p>
<pre><code>num_dims: 3
dynamic_options:
    time_final: 1.0
    dt_min: 1.e-8
    dt_max: 1.e-2
    dt_start: 1.e-5
    cycle_stop: 2000000

mesh_generation_options:
    type: Box
    origin: [0, 0, 0]
    length: [1.2, 1.2, 1.2]
    num_elems: [32, 32, 32]

output_options:
    timer_output_level: thorough
    output_file_format: vtk
    graphics_step: 0.25
    
fea_module_parameters:
    - type: SGH
    material_id: 0
    boundary_conditions:
        # Tag X plane
        - surface: 
            type: x_plane
            plane_position: 0.0
        type: reflected
                
        # Tag Y plane
        - surface: 
            type: y_plane
            plane_position: 0.0
        type: reflected
                
        # Tag Z plane
        - surface: 
            type: z_plane
            plane_position: 0.0
        type: reflected
                
        # Tag X plane
        - surface: 
            type: x_plane
            plane_position: 1.2
        type: reflected
                
        # Tag Y plane
        - surface: 
            type: y_plane
            plane_position: 1.2
        type: reflected
                
        # Tag Z plane
        - surface: 
            type: z_plane
            plane_position: 1.2
        type: reflected

materials:
    - id: 0
    eos_model: ideal_gas
    strength_model: none
    elastic_modulus: 10
    poisson_ratio: 0.3
    q1: 1.0
    q2: 0
    q1ex: 1.0
    q2ex: 0.0
    global_vars:
        - 1.666666666666667
        - 1.0E-14
        - 1.0

regions:
    - volume: 
        type: global
    material_id: 0
    den: 1.0
    sie: 1.e-10
        
    velocity: cartesian
    u: 0.0
    v: 0.0
    w: 0.0
    # energy source initial conditions
    - volume: 
        type: sphere
        radius1: 0.0
        radius2: 0.0375
    material_id: 0
    den: 1.0
    ie: 0.25833839995946534
        
    velocity: cartesian
    u: 0.0
    v: 0.0
    w: 0.0
</code></pre>

                
                <h3>Parallel Implicit Solver</h3>
                <p>
                The parallel implicit solver is for quasi-static or static thermal and mechanical analysis.  This solver works in combination with high-order optimization methods to autonomously identify the optimal topology of a part by minimizing multiple objective functions while meeting multiple design constraints.
                    
                    When invoking the implicit solver, you should provide it with a single Yaml file corresponding to the <b>Simulation Parameters</b> spec.

                </p>
                
                <h3>Parallel Explicit Solver</h3>
                <p>
                    The parallel explicit solver simulates the dynamic evolution of materials given certain boundary conditions and external forces.

                    When invoking the explicit solver, you should provide it with a single Yaml file corresponding to the <b>Simulation Parameters Dynamic</b> spec.
                </p>

                
                <h3>Mesh Builder</h3>
                <p>
                    Included in <em>Fierro</em> is a tool for generating small, simple meshes for running test problems. This can be accessed through
                </p>
<pre><code>fierro mesh-builder</code></pre>
                <p>
                    The Mesh Builder is able to output .geo meshes in either a rectangular or cylindrical shape in 2 or 3 dimensions. Like other <em>Fierro</em> tools,
                    the Mesh Builder accepts an input configuration file. 

                    As an example, the following YAML text can be used to generate a 1x1x1 box mesh:
                </p>
<pre><code>output:
  name: mesh
  file_type: Ensight

input:
  type: Box
  length: [1, 1, 1]
  num_elems: [1, 1, 1]
  origin: [0, 0, 0]
  p_order: 1</code></pre>
                <p>
                    Additional examples of these inputs can be found under the <code>Fierro/src/Mesh-Builder/examples</code> folder, 
                    and a trivial example can be generated for cylinders and boxes using the <code>--box-help</code> and <code>--cylinder-help</code> flags in the command line tool.

                    In addition to generating standlone mesh files, this tool is built into the <em>Fierro</em> solvers so you can run simple tests without a mesh file at all.
                    To use the mesh builder instead of loading a mesh, replace the <code>input_options</code> field with a <code>mesh_generation_options</code> field that corresponds
                    to the mesh builder <code>input</code> field shown above:
                </p>
<pre><code># input_options:
#    mesh_file_format: ensight
#    mesh_file_name: TO_small_beam.geo
    
mesh_generation_options:
   type: Box
   length: [10, 10, 100]
   num_elems: [10, 10, 100]
   origin: [0, 0, 0]
   p_order: 1
</code></pre>
                
            </div>
        </div>
    </div>

    <div id="footer"></div>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>
    <script> 
        $(function(){
          $("#header").load("header.html", () => $("#nav-user-guides").addClass("active")); 
          $("#footer").load("footer.html"); 
        });
    </script> 

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap-toc.min.js"></script>
</body>
</html>
