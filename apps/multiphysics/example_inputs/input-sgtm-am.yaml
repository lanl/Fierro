# num_dims: 3

dynamic_options:
    time_final: 10.0
    dt_min: 1.e-8
    dt_max: 1.0
    dt_start: 1.e-5
    cycle_stop: 100000


# mesh_options:
#     source: file
#     file_path: /var/tmp/repos/Fierro/fork/Fierro/testing/meshes/mesh_Sedov_8.geo

mesh_options:
    source: generate
    num_dims: 3
    type: box
    origin: [0.0, 0.0, 0.0]
    length: [300.0, 300.0, 30.0]
    num_elems: [100, 100, 10]


output_options:
    timer_output_level: thorough
    output_file_format: viz
    graphics_time_step: 1.0
    #graphics_iteration_step: 5
    elem_field_outputs:
        - den
        - mass
    mat_pt_field_outputs:
        - den
    node_field_outputs:
        - temp

solver_options:
  - solver:
        method: thrmex_FE
        id: 0
        use_moving_heat_source: true
        # solver_vars:
        #  - blah
        #  - blah
        #  - blah

boundary_conditions:
    # Set temperature on the z=0 plane
    - boundary_condition:
        solver_id: 0
        surface:
            type: z_plane
            plane_position: 0.0
        temperature_model: constant
        temperature_bc_global_vars:
            - 293.15   # constantly held at room temperature (20°C)

    # convection on the z=1 plane
    - boundary_condition:
        solver_id: 0
        surface:
            type: z_plane
            plane_position: 30.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)

    - boundary_condition:
        solver_id: 0
        surface:
            type: x_plane
            plane_position: 0.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)
    - boundary_condition:
        solver_id: 0
        surface:
            type: x_plane
            plane_position: 300.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)

    - boundary_condition:
        solver_id: 0
        surface:
            type: y_plane
            plane_position: 0.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)

    - boundary_condition:
        solver_id: 0
        surface:
            type: y_plane
            plane_position: 300.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)

    - boundary_condition:
        solver_id: 0
        surface:
            type: z_plane
            plane_position: 300.0
        temperature_model: convection
        temperature_bc_global_vars:
            - 293.15   # reference temperature (room temp in kelvin)
            - 0.01    # h (film temperature) = 0.01 mW/(mm^2⋅K)


    # Radiation on the non-constant temp surfaces
    - boundary_condition:
        solver_id: 0
        surface:
            type: x_plane
            plane_position: 0.0
        temperature_model: radiation

    - boundary_condition:
        solver_id: 0
        surface:
            type: x_plane
            plane_position: 300.0
        temperature_model: radiation

    - boundary_condition:
        solver_id: 0
        surface:
            type: y_plane
            plane_position: 0.0
        temperature_model: radiation    

    - boundary_condition:
        solver_id: 0
        surface:
            type: y_plane
            plane_position: 300.0
        temperature_model: radiation

    - boundary_condition:
        solver_id: 0
        surface:
            type: z_plane
            plane_position: 30.0
        temperature_model: radiation


materials:
    - material:
        id: 0
        tabular_model:
            type: temperature_dependent
            file_format: Abaqus_jmatpro
            tabular_data: /home/jacobmoore/Desktop/repos/Fierro/apps/multiphysics/example_inputs/Abaqus_inputs/1018_thermal_jmatpro.inp
            fields:
                - density
                - thermal_conductivity
                - specific_heat
        eos_model_type: decoupled
        eos_model: gamma_law_gas
        # strength_model: none
        dissipation_model: MARS
        dissipation_global_vars:
            - 1.0   # q1
            - 1.0   # q1ex
            - 1.333 # q2
            - 1.333 # q2ex
            - 0.0   # phi_min
            - 1.0   # phi_curl_min
        eos_global_vars:
            - 1.666666666666667
            - 1.0E-14
            - 1.0
        

regions:
    - region:
        volume:
            type: global
        solver_id: 0
        material_id: 0
        density: 
            type: uniform
            value: 7.8236E-09 # (tonne/mm^3)
        specific_internal_energy: 
            type: uniform
            value: 1.e-10
        velocity: 
            type: cartesian
            u: 0.0
            v: 0.0
            w: 0.0
        thermal_conductivity: 
            type: uniform
            value: 59.09142 # mW/(mm.K)
        specific_heat: 
            type: uniform
            value: 458960000 # mJ/(tonne.K)
        temperature: 
            type: uniform
            value: 273.15 #K 


